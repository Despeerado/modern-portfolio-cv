const AnimationManager=(()=>{const t=()=>{const{isMobile:t}=(()=>{const t=window.innerWidth<=768,e="ontouchstart"in window||navigator.maxTouchPoints>0;return(t||e)&&document.querySelectorAll('[data-aos="fade-left"], [data-aos="fade-right"]').forEach((t=>{t.setAttribute("data-aos","fade-up")})),{isMobile:t,isTouch:e}})();AOS.init({duration:t?400:500,easing:"ease-out",once:!0,disable:!1,offset:t?20:30,anchorPlacement:"top-bottom"})};return{init(){t(),(()=>{let e;window.addEventListener("resize",(function(){clearTimeout(e),e=setTimeout((function(){AOS.refresh(),t()}),250)}))})()}}})(),NavigationManager=(()=>{const t=()=>{document.querySelectorAll("a.navbar__link, a.btn-hire-me, a.back-to-top").forEach((t=>{t.addEventListener("click",(function(t){if(""!==this.hash){t.preventDefault();const e=this.hash;document.querySelector(e).scrollIntoView({behavior:"smooth"}),setTimeout((()=>{window.location.hash=e}),800)}}))}))};return{init(){(()=>{const t=function(){const t=document.getElementById("mainNav");t&&(0===window.scrollY?t.classList.remove("navbar-shrink"):t.classList.add("navbar-shrink"))};document.addEventListener("scroll",t),t()})(),t(),(()=>{const t=document.querySelectorAll("section"),e=document.querySelectorAll(".nav-link");window.addEventListener("scroll",(()=>{let n="";t.forEach((t=>{const e=t.offsetTop;t.clientHeight,window.scrollY>=e-200&&(n=t.getAttribute("id"))})),e.forEach((t=>{t.classList.remove("active"),t.getAttribute("href")===`#${n}`&&t.classList.add("active")}))}))})(),(()=>{const t=document.querySelector(".navbar-toggler"),e=document.querySelector(".navbar-collapse");document.querySelectorAll(".nav-link").forEach((n=>{n.addEventListener("click",(()=>{e&&e.classList.contains("show")&&t?.click()}))}))})()}}})(),UIComponentsManager={init(){(()=>{const t=document.getElementById("backToTop");t&&(window.addEventListener("scroll",(()=>{window.scrollY>300?(t.classList.add("show"),t.classList.remove("d-none")):(t.classList.remove("show"),t.classList.add("d-none"))})),t.addEventListener("click",(t=>{t.preventDefault(),window.scrollTo({top:0,behavior:"smooth"})})))})(),(()=>{const t=document.querySelectorAll(".counter");let e=!1;const n=()=>{if(e)return;const n=document.getElementById("about");n&&n.getBoundingClientRect().top<window.innerHeight/1.3&&(t.forEach((t=>{const e=+t.textContent;let n=0;const s=Math.ceil(e/100),o=()=>{n<e&&(n+=s,n>e&&(n=e),t.textContent=n,setTimeout(o,20))};o()})),e=!0)};window.addEventListener("scroll",n),window.addEventListener("load",n)})()}},FormManager=(()=>{const t=(t,e,n)=>{const s=document.createElement("div");s.className=`alert alert-${e} alert-dismissible fade show mt-3`,s.innerHTML=`\n\t\t\t${t}\n\t\t\t<button type="button" class="btn-close" data-bs-dismiss="alert"></button>\n\t\t`,n.parentNode.insertBefore(s,n.nextSibling),setTimeout((()=>{s.parentNode&&s.remove()}),5e3)},e=e=>{const n=e.querySelectorAll(".form-control");e.addEventListener("submit",(function(s){s.preventDefault(),e.checkValidity()?(async(e,n)=>{const s=e.querySelector('button[type="submit"]'),o=s.innerHTML;document.getElementById("form-status"),s.disabled=!0,s.innerHTML='<i class="fas fa-spinner fa-spin me-2"></i>Odesílání...';try{const a=new FormData(e);console.log("Odesílám formulář s daty:",Object.fromEntries(a));const i=await fetch(e.action,{method:e.method,body:a,headers:{Accept:"application/json"}});if(!i.ok){const t=await i.json();throw t.errors?new Error(t.errors.map((t=>t.message)).join(", ")):new Error(`HTTP ${i.status}: ${i.statusText}`)}s.innerHTML='<i class="fas fa-check me-2"></i>Odesláno!',s.classList.remove("btn-primary"),s.classList.add("btn-success"),t("Zpráva byla úspěšně odeslána! Odpovím vám co nejdříve.","success",e),e.reset(),e.classList.remove("was-validated"),n.forEach((t=>{t.classList.remove("is-valid","is-invalid")})),setTimeout((()=>{s.innerHTML=o,s.classList.remove("btn-success"),s.classList.add("btn-primary"),s.disabled=!1}),3e3)}catch(n){console.error("Error:",n),s.innerHTML='<i class="fas fa-exclamation-triangle me-2"></i>Chyba',s.classList.remove("btn-primary"),s.classList.add("btn-danger"),t("Nastala chyba při odesílání zprávy. Zkuste to prosím znovu nebo mě kontaktujte přímo.","danger",e),setTimeout((()=>{s.innerHTML=o,s.classList.remove("btn-danger"),s.classList.add("btn-primary"),s.disabled=!1}),3e3)}})(e,n):(s.stopPropagation(),e.classList.add("was-validated"))})),n.forEach((t=>{t.addEventListener("input",(function(){this.checkValidity()?(this.classList.remove("is-invalid"),this.classList.add("is-valid")):(this.classList.remove("is-valid"),this.classList.add("is-invalid"))}))})),e.addEventListener("reset",(function(){this.classList.remove("was-validated"),n.forEach((t=>{t.classList.remove("is-valid","is-invalid")}))}))};return{init(){const t=document.getElementById("contactForm");t&&e(t)}}})(),App={init(){AnimationManager.init(),NavigationManager.init(),UIComponentsManager.init(),FormManager.init()}};document.addEventListener("DOMContentLoaded",(function(){App.init()}));